<div class="branding">
    <a class="logo-and-title">
        <clr-icon shape="logo"></clr-icon>
        <span class="title">{{ title }}</span>
    </a>
</div>

<div class="header-nav">
    <a href="javascript://" class="nav-link nav-text" [routerLink]="['/home']" [routerLinkActive]="'active'">Home</a>
    <a href="javascript://" class="nav-link nav-text" [routerLink]="['/dashboards']" [routerLinkActive]="'active'" *rbac="['scheduledevents.list']">Dashboards</a>
    <a href="javascript://" class="nav-link nav-text" [routerLink]="['/events']" [routerLinkActive]="'active'" *rbac="['scheduledevents.list']">Scheduled Events</a>
    <a href="javascript://" class="nav-link nav-text" [routerLink]="['/content']" [routerLinkActive]="'active'" *rbac="['scenarios.list', 'courses.list']; op 'OR'">Content Management</a>
    <a href="javascript://" class="nav-link nav-text" [routerLink]="['/users']" [routerLinkActive]="'active'" *rbac="['users.list']">Users</a>
    <a href="javascript://" class="nav-link nav-text" [routerLink]="['/configuration']" [routerLinkActive]="'active'" *ngIf="configurationRbac">Configuration</a>
</div>

<div class="header-actions">
    <clr-dropdown>
        <button class="nav-text" clrDropdownToggle>
            {{email}}
            <clr-icon shape="caret down"></clr-icon>
        </button>
        <clr-dropdown-menu *clrIfOpen clrPosition="bottom-right">
            <a (click)="about()" clrDropdownItem>About</a>
            <a (click)="logout()" clrDropdownItem>Logout</a>
        </clr-dropdown-menu>
    </clr-dropdown>
</div>

<clr-modal #logoutmodal [(clrModalOpen)]="logoutModalOpened">
    <h3 class="modal-title">Confirm Logout</h3>
    <div class="modal-body">
        <p>
            Are you sure you want to logout?
        </p>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline" (click)="logoutModalOpened = false">Cancel</button>
        <button type="button" class="btn btn-danger-outline" (click)="doLogout()">Logout</button>
    </div>
</clr-modal>

<clr-modal #aboutmodal [(clrModalOpen)]="aboutModalOpened">
    <h3 class="modal-title">About HobbyFarm</h3>
    <div class="modal-body">
        <p>
            HobbyFarm was lovingly crafted by @ebauman and @Oats87 from @RancherLabs
        </p>
        <p>
            <i>UI Version: {{version}}</i>
        </p>
    </div>
</clr-modal>
